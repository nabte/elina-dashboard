import{j as e,u as f,r as o,S as N}from"./index-Czd6NKCg.js";import{L as y}from"./LandingPage-mDaXkdpN.js";import{P}from"./PublicLayout-DPQPkbEK.js";const v=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),S=({post:t})=>{const r=`/blog/${v(t.title)}`;return e.jsxs("a",{href:r,className:"block bg-white/5 backdrop-blur-lg border border-white/10 rounded-lg overflow-hidden group transform hover:-translate-y-2 transition-transform duration-300",children:[e.jsx("img",{src:t.featuredImageUrl,alt:t.title,className:"w-full h-48 object-cover group-hover:opacity-90 transition-opacity"}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-2",children:new Date(t.date).toLocaleDateString()}),e.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:t.title})]})]})},C=()=>{const{t}=f(),[r,a]=o.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>a(!0),className:"fixed bottom-8 right-8 bg-yellow-400 text-black font-bold py-3 px-6 rounded-full shadow-lg transform hover:scale-110 transition-transform animate-bounce z-50",style:{animationIterationCount:3},children:t("landing.hero.cta")}),e.jsx(y,{isOpen:r,onClose:()=>a(!1)})]})},h=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),E=()=>{const[t,r]=o.useState(null),[a,p]=o.useState(!0),[l,b]=o.useState([]),[c,i]=o.useState(null),{t:j}=f();return o.useEffect(()=>{(async()=>{try{const s=window.location.pathname.split("/"),m=s[s.length-1],u=await fetch("/blog_entries.json");if(!u.ok)throw new Error("Could not load blog data.");const x=await u.json(),g=x.find(n=>h(n.title)===m),w=x.filter(n=>h(n.title)!==m).sort(()=>.5-Math.random());b(w.slice(0,3)),g?r(g):i("Post not found.")}catch(s){i(s instanceof Error?s.message:"An unknown error occurred.")}finally{p(!1)}})()},[]),a?e.jsx("div",{className:"min-h-screen flex items-center justify-center text-white",children:e.jsx(N,{large:!0})}):c?e.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-400",children:c}):e.jsxs(P,{children:[e.jsx(C,{}),e.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[e.jsx("img",{src:t.featuredImageUrl,alt:t.title,className:"w-full h-auto max-h-[500px] object-cover rounded-lg mb-8"}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.title}),e.jsxs("p",{className:"text-gray-400 mb-8",children:["Publicado el ",new Date(t.date).toLocaleDateString()]}),e.jsx("div",{className:"prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t.htmlContent}})]}),l.length>0&&e.jsxs("section",{className:"py-20 px-6 border-t border-white/10 bg-black/20",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-white",children:j("landing.blog.relatedTitle")}),e.jsx("div",{className:"max-w-6xl mx-auto grid md:grid-cols-3 gap-8",children:l.map((d,s)=>e.jsx(S,{post:d},s))})]})]})};export{E as BlogPostPage,E as default};
