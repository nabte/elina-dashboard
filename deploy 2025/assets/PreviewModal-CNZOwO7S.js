import{j as e,r as h}from"./index-Czd6NKCg.js";const m=n=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[e.jsx("path",{d:"M3 2v6h6"}),e.jsx("path",{d:"M21 12A9 9 0 0 0 6 5.3L3 8"}),e.jsx("path",{d:"M21 22v-6h-6"}),e.jsx("path",{d:"M3 12a9 9 0 0 0 15 6.7l3-2.7"})]}),w=({htmlContent:n,title:p,onClose:s,onRegenerateSelection:o})=>{const[i,r]=h.useState(n);h.useEffect(()=>{r(n)},[n]);const g=t=>{r(t.target.innerHTML)},u=async()=>{var a;const t=window.getSelection();if(t&&t.rangeCount>0){const l=t.toString().trim();if(l&&o){const c=prompt("¿Cómo quieres mejorar este texto?","Hazlo más conciso y profesional.");if(c!==null)try{const d=await o(l,c),x=t.getRangeAt(0);x.deleteContents(),x.insertNode(document.createTextNode(d)),r(((a=document.getElementById("editable-content"))==null?void 0:a.innerHTML)||i)}catch{alert("Error al regenerar el texto.")}}}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4",onClick:s,children:e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-lg border border-white/20 text-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:t=>t.stopPropagation(),children:[e.jsxs("header",{className:"p-4 border-b border-white/20 flex justify-between items-center flex-shrink-0",children:[e.jsx("h2",{className:"text-xl font-bold",children:p}),e.jsxs("div",{children:[e.jsx("button",{onClick:u,className:"mr-4 bg-purple-600 text-white font-bold py-1 px-3 rounded-lg text-sm hover:bg-purple-700",children:"✨ Reescribir Selección"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white",children:"×"})]})]}),e.jsx("div",{id:"editable-content",className:"p-6 overflow-y-auto flex-grow prose prose-invert max-w-none",contentEditable:!0,suppressContentEditableWarning:!0,dangerouslySetInnerHTML:{__html:i},onInput:g}),e.jsx("div",{className:"p-2 bg-black/20 text-center text-xs text-gray-400",children:"Puedes editar el contenido directamente en esta ventana."})]})})};export{w as P,m as R};
