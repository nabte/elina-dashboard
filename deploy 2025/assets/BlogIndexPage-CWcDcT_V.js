import{u as b,r as l,j as e,S as f}from"./index-Czd6NKCg.js";import{P}from"./PublicLayout-DPQPkbEK.js";import"./LandingPage-mDaXkdpN.js";const c=15,E=()=>{const{t:o,language:m}=b(),[g,u]=l.useState([]),[h,x]=l.useState(!0),[a,d]=l.useState(1);l.useEffect(()=>{(async()=>{try{const i=s=>s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");let r=await(await fetch("/blog_entries.json")).json();r.sort((s,p)=>new Date(p.date).getTime()-new Date(s.date).getTime()),r=r.map(s=>({...s,slug:i(s.title),image:s.featuredImageUrl})),u(r)}catch(i){console.error("Could not fetch or parse blog posts:",i)}finally{x(!1)}})()},[]);const n=Math.ceil(g.length/c),j=g.slice((a-1)*c,a*c);return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(f,{large:!0})}):e.jsx(P,{children:e.jsx("section",{className:"section blog-portfolio",id:"blog",children:e.jsxs("div",{className:"container",style:{paddingTop:"5rem"},children:[e.jsx("div",{className:"blog-grid",children:j.map(t=>e.jsxs("a",{href:`/blog/${t.slug}`,className:"blog-card","data-aos":"fade-up",children:[e.jsx("img",{src:t.image||"./assets/BLOG_PLACEHOLDER.jpg",alt:t.title}),e.jsxs("div",{className:"content",children:[e.jsx("h3",{children:t.title}),e.jsx("p",{children:t.description}),e.jsxs("p",{className:"date",children:[new Date(t.date).toLocaleDateString(m,{year:"numeric",month:"long",day:"numeric"})," Â· ",t.category]})]})]},t.id||t.slug))}),n>1&&e.jsxs("div",{className:"pagination-controls",style:{textAlign:"center",marginTop:"3rem"},children:[e.jsx("button",{onClick:()=>d(t=>Math.max(1,t-1)),disabled:a===1,className:"btn btn-ghost",children:o("blog.previous")}),e.jsx("span",{className:"mx-4",children:o("blog.page",{current:a,total:n})}),e.jsx("button",{onClick:()=>d(t=>Math.min(n,t+1)),disabled:a===n,className:"btn btn-ghost",children:o("blog.next")})]})]})})})};export{E as BlogIndexPage,E as default};
