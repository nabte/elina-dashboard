import"./auth-PYTeCFgn.js";document.addEventListener("DOMContentLoaded",()=>{var y;const i=document.getElementById("tab-login"),o=document.getElementById("tab-register"),d=document.getElementById("login-panel"),a=document.getElementById("register-panel"),c=document.getElementById("auth-subtitle"),l=document.getElementById("login-form");l&&l.addEventListener("submit",e=>window.auth.handleLogin(e));const r=document.getElementById("register-form");r&&r.addEventListener("submit",e=>window.auth.handleRegister(e)),i.addEventListener("click",()=>{i.classList.add("active"),o.classList.remove("active"),d.classList.add("active"),a.classList.remove("active"),c.textContent="Inicia sesión para continuar"}),o.addEventListener("click",()=>{o.classList.add("active"),i.classList.remove("active"),a.classList.add("active"),d.classList.remove("active"),c.textContent="Crea una cuenta para empezar"});const m=document.getElementById("register-name"),u=document.getElementById("register-email"),t=document.getElementById("register-password"),w=document.querySelector('#register-form button[type="submit"]'),h={length:document.getElementById("req-length"),case:document.getElementById("req-case"),number:document.getElementById("req-number"),symbol:document.getElementById("req-symbol")};function g(){const e=t.value,n={length:e.length>=8,case:/[a-z]/.test(e)&&/[A-Z]/.test(e),number:/\d/.test(e),symbol:/[!@#$%^&*(),.?":{}|<>]/.test(e)},f=m.value.trim()!=="",b=/^\S+@\S+\.\S+$/.test(u.value),B=window.iti?window.iti.isValidNumber():!1;let L=!0;for(const v in n){const s=h[v],E=s.querySelector(".icon-fail"),I=s.querySelector(".icon-success");n[v]?(s.classList.replace("text-red-500","text-green-400"),E.classList.add("hidden"),I.classList.remove("hidden")):(s.classList.replace("text-green-400","text-red-500"),E.classList.remove("hidden"),I.classList.add("hidden"),L=!1)}w.disabled=!(L&&f&&b&&B)}[m,u,t,document.querySelector("#register-phone")].forEach(e=>{e.addEventListener("input",g)}),(y=document.getElementById("toggle-password"))==null||y.addEventListener("click",()=>{const e=t.type==="password";t.type=e?"text":"password",document.getElementById("eye-icon").classList.toggle("hidden",!e),document.getElementById("eye-off-icon").classList.toggle("hidden",e)});const p=()=>{if(typeof window.lucide<"u"&&typeof window.intlTelInput<"u"){console.log("[main.js] Librerías detectadas. Inicializando plugins..."),lucide.createIcons();const e=document.querySelector("#register-phone"),n=window.intlTelInput(e,{utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",initialCountry:"mx",separateDialCode:!0});window.iti=n,g()}else setTimeout(p,50)};p()});
